{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/Mughees/Projects/React.Pro/Game Rental/Code/src/Screens/NewPost.js\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { useFocusEffect, useNavigation } from '@react-navigation/native';\nimport { StatusBar } from 'expo-status-bar';\nimport React, { useCallback, useState } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Header from \"../Components/Header\";\nimport { SendMsg, RecieveMsg } from \"../Components/Msg\";\nimport { RattingStarIcon, HeartWhiteIcon, XBoxIcon, KMLocationIcon, PickupIcon, PDPChatIcon, SearchIcon, DrawerIcon, ChatLargeIcon, ArrowBack, ShareIcon, ArrowRight, PickupLargeIcon, DeliveryLargeIcon } from \"../Components/SvgIcons\";\nimport Loader from \"../utils/Loader\";\nimport { apiRequest, doPost } from \"./../utils/apiCalls\";\nimport DropdownAlert from \"react-native-dropdownalert\";\nimport { validateEmail, retrieveItem, storeItem, doAlertPlease } from \"./../utils/functions\";\nimport * as Permissions from 'expo-permissions';\nimport * as ImagePicker from 'expo-image-picker';\nimport { useEffect } from 'react';\nimport PrivacyPicker from \"../Components/PrivacyPicker\";\nimport { urls } from \"../utils/Api_urls\";\nvar dropDownAlertRef;\n\nvar NewPost = function NewPost(props) {\n  var navigation = useNavigation();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      imagesArray = _useState4[0],\n      setImagesArray = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      url = _useState6[0],\n      setUrl = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      imagesArrayFile = _useState8[0],\n      setImagesArrayFile = _useState8[1];\n\n  var _React$useState = React.useState(\"\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      title = _React$useState2[0],\n      setTitle = _React$useState2[1];\n\n  var _React$useState3 = React.useState(\"\"),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      selectedSystem = _React$useState4[0],\n      setSelectedSystem = _React$useState4[1];\n\n  var _React$useState5 = React.useState(\"\"),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      condition = _React$useState6[0],\n      setCondition = _React$useState6[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      games = _useState10[0],\n      setGame = _useState10[1];\n\n  var _useState11 = useState(\"\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      interest = _useState12[0],\n      setInterest = _useState12[1];\n\n  var _useState13 = useState(0),\n      _useState14 = _slicedToArray(_useState13, 2),\n      pickup = _useState14[0],\n      setPickup = _useState14[1];\n\n  var _useState15 = useState([]),\n      _useState16 = _slicedToArray(_useState15, 2),\n      gamesList = _useState16[0],\n      setGamesList = _useState16[1];\n\n  var _useState17 = useState([]),\n      _useState18 = _slicedToArray(_useState17, 2),\n      interestList = _useState18[0],\n      setInterestList = _useState18[1];\n\n  var _useState19 = useState([]),\n      _useState20 = _slicedToArray(_useState19, 2),\n      systemList = _useState20[0],\n      setSystemList = _useState20[1];\n\n  var _React$useState7 = React.useState({}),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      user = _React$useState8[0],\n      setUser = _React$useState8[1];\n\n  useFocusEffect(React.useCallback(function () {\n    getData();\n  }, []));\n\n  var getData = function getData() {\n    retrieveItem(\"login_data_vendor\").then(function (d) {\n      setUser(d);\n      apiRequest({\n        token: d.token\n      }, 'get_systems', true).then(function (data) {\n        if (data) {\n          var tor = [];\n          setSystemList(data.list);\n        } else dropDownAlertRef.alertWithType(\"error\", \"Error\", \"No Internet\");\n      });\n      apiRequest({\n        token: d.token\n      }, 'get_games', true).then(function (data) {\n        if (data) {\n          if (data.action == 'success') {\n            setGamesList(data.list);\n          }\n        } else dropDownAlertRef.alertWithType(\"error\", \"Error\", \"No Internet\");\n      });\n      apiRequest({\n        token: d.token\n      }, 'get_interests', true).then(function (data) {\n        if (data) {\n          if (data.action == 'success') {\n            setInterestList(data.list);\n          }\n        } else dropDownAlertRef.alertWithType(\"error\", \"Error\", \"No Internet\");\n      });\n    });\n  };\n\n  function getCondition() {\n    var tor = [];\n\n    for (var i = 1; i <= 10; i++) {\n      tor.push({\n        title: i\n      });\n    }\n\n    return tor;\n  }\n\n  function postAd() {\n    var postDataObj = {\n      token: user.token,\n      title: title,\n      photos: imagesArrayFile,\n      system_id: selectedSystem,\n      game_id: games,\n      interest_id: interest,\n      condition: condition,\n      is_pickup: pickup\n    };\n    console.log(postDataObj);\n    apiRequest(postDataObj, 'add_post', true).then(function (data) {\n      if (data) {\n        console.log(data);\n\n        if (data.action == 'success') {\n          setLoading(false);\n          console.log(data);\n          dropDownAlertRef.alertWithType(\"success\", \"Success\", \"Post Added\");\n          navigation.goBack();\n        } else {\n          setLoading(false);\n          console.log('error generated');\n          console.log(data);\n          dropDownAlertRef.alertWithType(\"error\", \"Error\", \"Error\");\n        }\n      } else {\n        setLoading(false);\n        dropDownAlertRef.alertWithType(\"error\", \"Error\", \"Internet Error\");\n      }\n    });\n  }\n\n  function validatePost() {\n    if (title.length < 5) {\n      dropDownAlertRef.alertWithType(\"error\", \"Error\", \"Please enter a valid title\");\n      return;\n    }\n\n    if (imagesArray.length < 1) {\n      dropDownAlertRef.alertWithType(\"error\", \"Error\", \"Please post at least 1 photo\");\n      return;\n    }\n\n    if (selectedSystem.length < 1) {\n      dropDownAlertRef.alertWithType(\"error\", \"Error\", \"Please select system \");\n      return;\n    }\n\n    if (games.length < 1) {\n      dropDownAlertRef.alertWithType(\"error\", \"Error\", \"Please select game\");\n      return;\n    }\n\n    if (interest.length < 1) {\n      dropDownAlertRef.alertWithType(\"error\", \"Error\", \"Please select interest\");\n      return;\n    }\n\n    if (condition.length < 1) {\n      dropDownAlertRef.alertWithType(\"error\", \"Error\", \"Please select condition\");\n      return;\n    }\n\n    setLoading(true);\n    postAd();\n  }\n\n  var addOffer = function addOffer() {\n    var _user$token;\n\n    var dbData, _await$doPost, isError, data;\n\n    return _regeneratorRuntime.async(function addOffer$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (validateEmail(email)) {\n              _context.next = 3;\n              break;\n            }\n\n            dropDownAlertRef.alertWithType(\"error\", \"Error\", \"Please enter a valid email\");\n            return _context.abrupt(\"return\");\n\n          case 3:\n            if (!(number.length < 10)) {\n              _context.next = 6;\n              break;\n            }\n\n            dropDownAlertRef.alertWithType(\"error\", \"Error\", \"Please a valid phone number\");\n            return _context.abrupt(\"return\");\n\n          case 6:\n            setLoading(true);\n            dbData = {\n              token: (_user$token = user == null ? void 0 : user.token) != null ? _user$token : \"\",\n              email: email,\n              phone: number,\n              address: address,\n              image: image\n            };\n            console.log(dbData);\n            _context.next = 11;\n            return _regeneratorRuntime.awrap(doPost(dbData, \"update_profile\", true));\n\n          case 11:\n            _await$doPost = _context.sent;\n            isError = _await$doPost.isError;\n            data = _await$doPost.data;\n            console.log(isError);\n            console.log(data);\n            setLoading(false);\n\n            if (isError) {\n              dropDownAlertRef.alertWithType(\"error\", \"Error\", \"Internet\");\n            } else {\n              if (data.action == \"success\") {\n                setLoading(false);\n                dropDownAlertRef.alertWithType(\"success\", \"Success\", \"Profile has been updated successfully\");\n                setBtn(false);\n                storeItem(\"login_data_vendor\", data.data).then(function () {\n                  doData();\n                });\n              } else {\n                setLoading(false);\n                dropDownAlertRef.alertWithType(\"error\", \"Error\", data.error);\n              }\n            }\n\n          case 18:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var update_dp = function update_dp() {\n    var dp_type,\n        _await$Permissions$ge,\n        existingStatus,\n        finalStatus,\n        _await$Permissions$as,\n        status,\n        err,\n        result,\n        _args2 = arguments;\n\n    return _regeneratorRuntime.async(function update_dp$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            dp_type = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : 1;\n            console.log(Permissions.MEDIA_LIBRARY);\n            _context2.next = 4;\n            return _regeneratorRuntime.awrap(Permissions.getAsync(Permissions.MEDIA_LIBRARY));\n\n          case 4:\n            _await$Permissions$ge = _context2.sent;\n            existingStatus = _await$Permissions$ge.status;\n            finalStatus = existingStatus;\n\n            if (!(existingStatus !== 'granted')) {\n              _context2.next = 13;\n              break;\n            }\n\n            _context2.next = 10;\n            return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.MEDIA_LIBRARY));\n\n          case 10:\n            _await$Permissions$as = _context2.sent;\n            status = _await$Permissions$as.status;\n            finalStatus = status;\n\n          case 13:\n            if (!(finalStatus !== 'granted')) {\n              _context2.next = 19;\n              break;\n            }\n\n            err = 'You need to allow storage permission manually from your phone settings in order add this data';\n            alert(err);\n            return _context2.abrupt(\"return\");\n\n          case 19:\n            _context2.next = 21;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n              allowsEditing: true,\n              aspect: [4, 4],\n              base64: false\n            }));\n\n          case 21:\n            result = _context2.sent;\n            do_update_dp(result.uri, result, dp_type);\n\n          case 23:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var update_dp_2 = function update_dp_2() {\n    var dp_type,\n        _await$Permissions$ge2,\n        existingStatus,\n        finalStatus,\n        _await$Permissions$as2,\n        status,\n        err,\n        result,\n        _args3 = arguments;\n\n    return _regeneratorRuntime.async(function update_dp_2$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            dp_type = _args3.length > 0 && _args3[0] !== undefined ? _args3[0] : 1;\n            console.log(Permissions.CAMERA);\n            _context3.next = 4;\n            return _regeneratorRuntime.awrap(Permissions.getAsync(Permissions.CAMERA));\n\n          case 4:\n            _await$Permissions$ge2 = _context3.sent;\n            existingStatus = _await$Permissions$ge2.status;\n            finalStatus = existingStatus;\n\n            if (!(existingStatus !== 'granted')) {\n              _context3.next = 13;\n              break;\n            }\n\n            _context3.next = 10;\n            return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.CAMERA));\n\n          case 10:\n            _await$Permissions$as2 = _context3.sent;\n            status = _await$Permissions$as2.status;\n            finalStatus = status;\n\n          case 13:\n            if (!(finalStatus !== 'granted')) {\n              _context3.next = 19;\n              break;\n            }\n\n            err = 'You need to allow storage permission manually from your phone settings in order add this data';\n            alert(err);\n            return _context3.abrupt(\"return\");\n\n          case 19:\n            _context3.next = 21;\n            return _regeneratorRuntime.awrap(ImagePicker.launchCameraAsync({\n              allowsEditing: true,\n              aspect: [4, 4],\n              base64: false\n            }));\n\n          case 21:\n            result = _context3.sent;\n            do_update_dp(result.uri, result, dp_type);\n\n          case 23:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var do_update_dp = function do_update_dp(url, response, type__) {\n    setLoading(true);\n    console.log(\"gallery response\");\n    console.log(response);\n    var my_ext = response.uri.split('.');\n    var _ext = my_ext[my_ext.length - 1];\n    var real_name = response.uri.split('/');\n    var _real_name = real_name[real_name.length - 1];\n    var data = new FormData();\n    data.append(\"photo\", {\n      name: _real_name,\n      type: Platform.OS === \"android\" ? \"image/jpeg\" : response.type,\n      uri: Platform.OS === \"android\" ? response.uri : response.uri.replace(\"file://\", \"\")\n    });\n    data.append(\"token\", user.token);\n    console.log(\"this is wat I'm submitting\");\n    console.log(data);\n    var config = {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'multipart/form-data'\n      },\n      body: data\n    };\n    fetch(urls.Image_Uri + \"public\", config).then(function (response) {\n      return response.json();\n    }).then(function (responseJson) {\n      console.log(\"final_server_photo_response\");\n      console.log(1);\n      console.log(responseJson);\n      console.log(2);\n\n      if (responseJson.action == \"success\") {\n        console.log(3);\n        console.log(\"here\");\n        var __final__url__ = responseJson.filename;\n        var profile_pic_url = responseJson.url;\n        setUrl(__final__url__);\n        setImagesArray([].concat(_toConsumableArray(imagesArray), [profile_pic_url]));\n        setImagesArrayFile([].concat(_toConsumableArray(imagesArrayFile), [__final__url__]));\n        setLoading(false);\n      } else {\n        console.log(4);\n        setLoading(false);\n        dropDownAlertRef.alertWithType('error', 'error', responseJson.error);\n      }\n    }).catch(function (error) {\n      console.log(error);\n      console.log(5);\n      setLoading(false);\n      dropDownAlertRef.alertWithType('error', 'error', \"Internet Error\");\n      setLoading(false);\n    });\n  };\n\n  return React.createElement(View, {\n    style: {\n      flex: 1,\n      backgroundColor: '#A047C8'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: {\n      zIndex: 1\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 7\n    }\n  }, React.createElement(DropdownAlert, {\n    ref: function ref(_ref) {\n      return dropDownAlertRef = _ref;\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 9\n    }\n  })), loading && React.createElement(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 19\n    }\n  }), React.createElement(ImageBackground, {\n    source: require(\"../assets/HomeBGImage.png\"),\n    style: {\n      width: \"100%\",\n      height: 265,\n      flex: 1\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: {\n      width: \"80%\",\n      alignSelf: 'center'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      marginTop: Platform.OS == 'ios' ? 35 : 25\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 11\n    }\n  }, React.createElement(StatusBar, {\n    hidden: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 13\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      props.navigation.goBack();\n    },\n    style: {\n      alignSelf: 'center'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 13\n    }\n  }, React.createElement(ArrowBack, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 15\n    }\n  })), React.createElement(Text, {\n    style: {\n      fontFamily: 'PBo',\n      fontSize: 24,\n      color: '#FFFFFF',\n      marginTop: -5,\n      marginLeft: 5\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 13\n    }\n  }, \"New Post\")))), React.createElement(View, {\n    style: {\n      flex: 1,\n      position: 'absolute',\n      bottom: 0,\n      height: \"90%\",\n      width: \"100%\",\n      backgroundColor: '#161527',\n      borderRadius: 43,\n      paddingRight: 20,\n      paddingTop: 30,\n      paddingLeft: 25\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 7\n    }\n  }, React.createElement(ScrollView, {\n    contentContainerStyle: {\n      paddingBottom: 250\n    },\n    showsVerticalScrollIndicator: false,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.text,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 11\n    }\n  }, \"Game Title\"), React.createElement(TextInput, {\n    placeholder: \"Enter Game Title Here\",\n    placeholderTextColor: \"#D5D5D5\",\n    style: styles.textInput,\n    value: title,\n    onChangeText: function onChangeText(t) {\n      return setTitle(t);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 11\n    }\n  }), imagesArray.map(function (item, index) {\n    return React.createElement(Image, {\n      key: index,\n      style: {\n        width: 100,\n        height: 100,\n        borderRadius: 10,\n        marginLeft: 10,\n        marginTop: 15\n      },\n      source: {\n        uri: item\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 17\n      }\n    });\n  }), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      update_dp();\n    },\n    style: {\n      alignSelf: 'flex-end',\n      justifyContent: 'center',\n      alignItems: 'center',\n      width: 159,\n      height: 40,\n      borderRadius: 9,\n      borderWidth: 1,\n      borderColor: '#FFFFFF',\n      marginTop: 10,\n      backgroundColor: '#000000'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontFamily: 'PMe',\n      fontSize: 12,\n      color: '#FFFFFF'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 13\n    }\n  }, \"Upload Photos\")), React.createElement(Text, {\n    style: [styles.text, {\n      marginTop: 10\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 443,\n      columnNumber: 11\n    }\n  }, \"Supported system\"), React.createElement(View, {\n    style: [styles.textInput, {\n      paddingLeft: -0,\n      paddingRight: 5,\n      justifyContent: 'center'\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 11\n    }\n  }, React.createElement(PrivacyPicker, {\n    selected: {\n      title: 'Select'\n    },\n    data: systemList,\n    onValueChange: function onValueChange(index, title) {\n      setSelectedSystem(title.id);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 13\n    }\n  })), React.createElement(Text, {\n    style: [styles.text, {\n      marginTop: 10\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 11\n    }\n  }, \"Game\"), React.createElement(View, {\n    style: [styles.textInput, {\n      paddingLeft: -0,\n      paddingRight: 5,\n      justifyContent: 'center'\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 455,\n      columnNumber: 11\n    }\n  }, React.createElement(PrivacyPicker, {\n    selected: {\n      title: 'Select'\n    },\n    data: gamesList,\n    onValueChange: function onValueChange(index, title) {\n      setGame(title.id);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 13\n    }\n  })), React.createElement(Text, {\n    style: [styles.text, {\n      marginTop: 10\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 465,\n      columnNumber: 11\n    }\n  }, \"Interest\"), React.createElement(View, {\n    style: [styles.textInput, {\n      paddingLeft: -0,\n      paddingRight: 5,\n      justifyContent: 'center'\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 11\n    }\n  }, React.createElement(PrivacyPicker, {\n    selected: {\n      title: 'Select'\n    },\n    data: interestList,\n    onValueChange: function onValueChange(index, title) {\n      setInterest(title.id);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 13\n    }\n  })), React.createElement(Text, {\n    style: [styles.text, {\n      marginTop: 10\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 477,\n      columnNumber: 11\n    }\n  }, \"Condition\"), React.createElement(View, {\n    style: [styles.textInput, {\n      paddingLeft: -0,\n      paddingRight: 5,\n      justifyContent: 'center'\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 478,\n      columnNumber: 11\n    }\n  }, React.createElement(PrivacyPicker, {\n    selected: {\n      title: 'Select'\n    },\n    data: getCondition(),\n    onValueChange: function onValueChange(index, title) {\n      setCondition(title.title);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 13\n    }\n  })), React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      justifyContent: 'space-evenly',\n      marginTop: 20\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 494,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: {\n      alignItems: 'center'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 496,\n      columnNumber: 13\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setPickup(1);\n    },\n    style: {\n      width: 65,\n      height: 65,\n      borderRadius: 32.5,\n      backgroundColor: pickup == 1 ? \"#A047C8\" : '#000000',\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 497,\n      columnNumber: 15\n    }\n  }, React.createElement(PickupLargeIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 500,\n      columnNumber: 17\n    }\n  })), React.createElement(Text, {\n    style: {\n      fontFamily: 'PRe',\n      fontSize: 12,\n      color: '#FFFFFF',\n      marginTop: 5\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 502,\n      columnNumber: 15\n    }\n  }, \"Pickup\")), React.createElement(View, {\n    style: {\n      alignItems: 'center'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 504,\n      columnNumber: 13\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setPickup(0);\n    },\n    style: {\n      width: 65,\n      height: 65,\n      borderRadius: 32.5,\n      backgroundColor: pickup == 1 ? \"#000000\" : '#A047C8',\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 505,\n      columnNumber: 15\n    }\n  }, React.createElement(DeliveryLargeIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 508,\n      columnNumber: 17\n    }\n  })), React.createElement(Text, {\n    style: {\n      fontFamily: 'PRe',\n      fontSize: 12,\n      color: '#FFFFFF',\n      marginTop: 5\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 510,\n      columnNumber: 15\n    }\n  }, \"Delivery\"))), React.createElement(Text, {\n    style: [styles.text, {\n      marginTop: 30\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 514,\n      columnNumber: 11\n    }\n  }, \"Location\"), React.createElement(Image, {\n    style: {\n      width: \"100%\",\n      borderRadius: 9,\n      marginTop: 10\n    },\n    source: require(\"../assets/Map1.png\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 515,\n      columnNumber: 11\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      validatePost();\n    },\n    style: {\n      height: 54,\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: \"#A047C8\",\n      marginTop: 20,\n      borderRadius: 9\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 519,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontFamily: 'PMe',\n      fontSize: 18,\n      color: '#FFFFFF'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 524,\n      columnNumber: 13\n    }\n  }, \"Send For Approval\")))));\n};\n\nvar styles = StyleSheet.create({\n  textInput: {\n    height: 48,\n    backgroundColor: '#000000',\n    color: '#D5D5D5',\n    paddingLeft: 15,\n    borderRadius: 8,\n    marginTop: 10,\n    fontFamily: 'PLi'\n  },\n  text: {\n    fontSize: 16,\n    fontFamily: 'PRe',\n    color: '#FFFFFF'\n  }\n});\nexport default NewPost;","map":{"version":3,"sources":["/Users/Mughees/Projects/React.Pro/Game Rental/Code/src/Screens/NewPost.js"],"names":["useFocusEffect","useNavigation","StatusBar","React","useCallback","useState","Header","SendMsg","RecieveMsg","RattingStarIcon","HeartWhiteIcon","XBoxIcon","KMLocationIcon","PickupIcon","PDPChatIcon","SearchIcon","DrawerIcon","ChatLargeIcon","ArrowBack","ShareIcon","ArrowRight","PickupLargeIcon","DeliveryLargeIcon","Loader","apiRequest","doPost","DropdownAlert","validateEmail","retrieveItem","storeItem","doAlertPlease","Permissions","ImagePicker","useEffect","PrivacyPicker","urls","dropDownAlertRef","NewPost","props","navigation","loading","setLoading","imagesArray","setImagesArray","url","setUrl","imagesArrayFile","setImagesArrayFile","title","setTitle","selectedSystem","setSelectedSystem","condition","setCondition","games","setGame","interest","setInterest","pickup","setPickup","gamesList","setGamesList","interestList","setInterestList","systemList","setSystemList","user","setUser","getData","then","d","token","data","tor","list","alertWithType","action","getCondition","i","push","postAd","postDataObj","photos","system_id","game_id","interest_id","is_pickup","console","log","goBack","validatePost","length","addOffer","email","number","dbData","phone","address","image","isError","setBtn","doData","error","update_dp","dp_type","MEDIA_LIBRARY","getAsync","existingStatus","status","finalStatus","askAsync","err","alert","launchImageLibraryAsync","allowsEditing","aspect","base64","result","do_update_dp","uri","update_dp_2","CAMERA","launchCameraAsync","response","type__","my_ext","split","_ext","real_name","_real_name","FormData","append","name","type","Platform","OS","replace","config","method","headers","body","fetch","Image_Uri","json","responseJson","__final__url__","filename","profile_pic_url","catch","flex","backgroundColor","zIndex","ref","require","width","height","alignSelf","flexDirection","justifyContent","marginTop","fontFamily","fontSize","color","marginLeft","position","bottom","borderRadius","paddingRight","paddingTop","paddingLeft","paddingBottom","styles","text","textInput","t","map","item","index","alignItems","borderWidth","borderColor","id","StyleSheet","create"],"mappings":"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","sourcesContent":["import { useFocusEffect, useNavigation } from '@react-navigation/native'\nimport { StatusBar } from 'expo-status-bar'\nimport React, { useCallback, useState } from 'react'\nimport { Text, View, ImageBackground, TouchableOpacity, StyleSheet, FlatList, Image, Dimensions, TextInput, Platform, ScrollView } from 'react-native'\nimport Header from '../Components/Header'\nimport { SendMsg, RecieveMsg } from '../Components/Msg'\nimport { RattingStarIcon, HeartWhiteIcon, XBoxIcon, KMLocationIcon, PickupIcon, PDPChatIcon, SearchIcon, DrawerIcon, ChatLargeIcon, ArrowBack, ShareIcon, ArrowRight, PickupLargeIcon, DeliveryLargeIcon } from '../Components/SvgIcons'\nimport Loader from '../utils/Loader'\nimport { apiRequest, doPost } from \"./../utils/apiCalls\";\nimport DropdownAlert from \"react-native-dropdownalert\";\nimport { validateEmail, retrieveItem, storeItem, doAlertPlease } from \"./../utils/functions\";\nimport * as Permissions from 'expo-permissions';\nimport * as ImagePicker from 'expo-image-picker';\nimport { useEffect } from 'react'\nimport PrivacyPicker from '../Components/PrivacyPicker';\nimport { urls } from '../utils/Api_urls';\n\nvar dropDownAlertRef;\n\nconst NewPost = (props) => {\n\n  const navigation = useNavigation()\n  const [loading, setLoading] = useState(false)\n\n\n  const [imagesArray, setImagesArray] = useState([])\n  const [url, setUrl] = useState();\n  const [imagesArrayFile, setImagesArrayFile] = useState([])\n\n\n  const [title, setTitle] = React.useState(\"\")\n  const [selectedSystem, setSelectedSystem] = React.useState(\"\")\n  const [condition, setCondition] = React.useState(\"\")\n  const [games, setGame] = useState(\"\")\n  const [interest, setInterest] = useState(\"\")\n  const [pickup, setPickup] = useState(0);\n\n\n  const [gamesList, setGamesList] = useState([]);\n  const [interestList, setInterestList] = useState([]);\n  const [systemList, setSystemList] = useState([]);\n\n  const [user, setUser] = React.useState({})\n\n\n  useFocusEffect(React.useCallback(() => {\n    getData()\n  }, []))\n\n\n\n\n  const getData = () => {\n\n    retrieveItem(\"login_data_vendor\").then((d) => {\n      setUser(d)\n      apiRequest({ token: d.token }, 'get_systems', true)\n        .then(data => {\n          if (data) {\n            var tor = [];\n            // for (let key in data.list) {\n            //   tor.push({\n            //     title: data.list[key].title,\n            //     id: data.list[key].id,\n            //     selected: data.list[key].selected\n            //   })\n            // }\n            setSystemList(data.list)\n          }\n          else dropDownAlertRef.alertWithType(\"error\", \"Error\", \"No Internet\");\n        })\n\n      apiRequest({ token: d.token }, 'get_games', true)\n        .then(data => {\n          if (data) {\n            if (data.action == 'success') {\n              setGamesList(data.list)\n            }\n          }\n          else dropDownAlertRef.alertWithType(\"error\", \"Error\", \"No Internet\");\n        })\n\n      apiRequest({ token: d.token }, 'get_interests', true)\n        .then(data => {\n          if (data) {\n            if (data.action == 'success') {\n              setInterestList(data.list)\n            }\n          }\n          else dropDownAlertRef.alertWithType(\"error\", \"Error\", \"No Internet\");\n        })\n\n    })\n  }\n\n  function getCondition() {\n\n    var tor = [];\n    for (let i = 1; i <= 10; i++) tor.push({\n      title: i\n    })\n    return tor\n\n  }\n\n  function postAd() {\n\n    const postDataObj = {\n      token: user.token,\n      title,\n      photos: imagesArrayFile,\n      system_id: selectedSystem,\n      game_id: games,\n      interest_id: interest,\n      condition,\n      is_pickup: pickup\n    }\n    console.log(postDataObj)\n    apiRequest(postDataObj, 'add_post', true)\n      .then(data => {\n        if (data) {\n          console.log(data)\n          if (data.action == 'success') {\n            setLoading(false)\n            console.log(data)\n            dropDownAlertRef.alertWithType(\"success\", \"Success\", \"Post Added\");\n            navigation.goBack();\n          }\n          else {\n            setLoading(false)\n            console.log('error generated');\n            console.log(data);\n            dropDownAlertRef.alertWithType(\"error\", \"Error\", \"Error\");\n          }\n\n        }\n        else {\n          setLoading(false)\n          dropDownAlertRef.alertWithType(\"error\", \"Error\", \"Internet Error\");\n        }\n      })\n  }\n\n  function validatePost() {\n\n    if (title.length < 5) {\n      dropDownAlertRef.alertWithType(\"error\", \"Error\", \"Please enter a valid title\");\n      return\n    }\n    if (imagesArray.length < 1) {\n      dropDownAlertRef.alertWithType(\"error\", \"Error\", \"Please post at least 1 photo\");\n      return\n    }\n    if (selectedSystem.length < 1) {\n      dropDownAlertRef.alertWithType(\"error\", \"Error\", \"Please select system \");\n      return\n    }\n    if (games.length < 1) {\n      dropDownAlertRef.alertWithType(\"error\", \"Error\", \"Please select game\");\n      return\n    }\n    if (interest.length < 1) {\n      dropDownAlertRef.alertWithType(\"error\", \"Error\", \"Please select interest\");\n      return\n    }\n    if (condition.length < 1) {\n      dropDownAlertRef.alertWithType(\"error\", \"Error\", \"Please select condition\");\n      return\n    }\n    setLoading(true)\n    postAd();\n  }\n\n  // useEffect(() => {\n  //   if (user && user?.token) {\n  //     // getOffers()\n  //   }\n  // }, [user])\n\n\n  const addOffer = async () => {\n\n    if (!validateEmail(email)) {\n      dropDownAlertRef.alertWithType(\"error\", \"Error\", \"Please enter a valid email\");\n      return\n    }\n\n    if (number.length < 10) {\n      dropDownAlertRef.alertWithType(\"error\", \"Error\", \"Please a valid phone number\");\n      return\n    }\n\n\n    setLoading(true)\n    const dbData = { token: user?.token ?? \"\", email, phone: number, address, image };\n    console.log(dbData)\n    const { isError, data } = await doPost(dbData, \"update_profile\", true);\n    console.log(isError);\n    console.log(data);\n    setLoading(false)\n    if (isError) {\n      dropDownAlertRef.alertWithType(\"error\", \"Error\", \"Internet\");\n    }\n    else {\n      if (data.action == \"success\") {\n        setLoading(false)\n        dropDownAlertRef.alertWithType(\"success\", \"Success\", \"Profile has been updated successfully\");\n        setBtn(false)\n        storeItem(\"login_data_vendor\", data.data).then(() => {\n          doData()\n        })\n      }\n      else {\n        setLoading(false)\n        dropDownAlertRef.alertWithType(\"error\", \"Error\", data.error);\n      }\n    }\n  }\n\n\n  const update_dp = async (dp_type = 1) => {\n\n    console.log(Permissions.MEDIA_LIBRARY);\n\n    const { status: existingStatus } = await Permissions.getAsync(\n      Permissions.MEDIA_LIBRARY\n    );\n    let finalStatus = existingStatus;\n\n    // only ask if permissions have not already been determined, because\n    // iOS won't necessarily prompt the user a second time.\n    if (existingStatus !== 'granted') {\n      // Android remote notification permissions are granted during the app\n      // install, so this will only ask on iOS\n      const { status } = await Permissions.askAsync(Permissions.MEDIA_LIBRARY);\n      finalStatus = status;\n\n    }\n\n    // Stop here if the user did not grant permissions\n    if (finalStatus !== 'granted') {\n      var err = 'You need to allow storage permission manually from your phone settings in order add this data';\n      alert(err)\n      return;\n    }\n    else {\n\n      let result = await ImagePicker.launchImageLibraryAsync({\n        allowsEditing: true,\n        aspect: [4, 4],\n        base64: false,\n      });\n\n      do_update_dp(result.uri, result, dp_type);\n\n\n    }\n\n  }\n  const update_dp_2 = async (dp_type = 1) => {\n\n    console.log(Permissions.CAMERA);\n\n    const { status: existingStatus } = await Permissions.getAsync(\n      Permissions.CAMERA\n    );\n    let finalStatus = existingStatus;\n\n    // only ask if permissions have not already been determined, because\n    // iOS won't necessarily prompt the user a second time.\n    if (existingStatus !== 'granted') {\n      // Android remote notification permissions are granted during the app\n      // install, so this will only ask on iOS\n      const { status } = await Permissions.askAsync(Permissions.CAMERA);\n      finalStatus = status;\n\n    }\n\n    // Stop here if the user did not grant permissions\n    if (finalStatus !== 'granted') {\n      var err = 'You need to allow storage permission manually from your phone settings in order add this data';\n      alert(err)\n      return;\n    }\n    else {\n\n      let result = await ImagePicker.launchCameraAsync({\n        allowsEditing: true,\n        aspect: [4, 4],\n        base64: false,\n      });\n\n      do_update_dp(result.uri, result, dp_type);\n\n\n    }\n\n  }\n  const do_update_dp = (url, response, type__) => {\n\n    setLoading(true)\n\n    console.log(\"gallery response\");\n    console.log(response);\n\n    // var response = this.state.selected_modal_image[0];\n    var my_ext = response.uri.split('.');\n\n    var _ext = my_ext[my_ext.length - 1];\n\n\n    var real_name = response.uri.split('/');\n    var _real_name = real_name[real_name.length - 1];\n\n\n\n    const data = new FormData();\n\n    data.append(\"photo\", {\n      name: _real_name,\n      type: Platform.OS === \"android\" ? \"image/jpeg\" : response.type,\n      uri:\n        Platform.OS === \"android\" ? response.uri : response.uri.replace(\"file://\", \"\")\n    });\n    data.append(\"token\", user.token);\n    // data.append(\"path\", \"public/\");\n\n    console.log(\"this is wat I'm submitting\");\n    console.log(data);\n    const config = {\n      method: 'POST',\n      headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'multipart/form-data',\n      },\n      body: data,\n  };\n    fetch(urls.Image_Uri + \"public\", config)\n      .then((response) => response.json())\n      .then((responseJson) => {\n        console.log(\"final_server_photo_response\");\n        console.log(1);\n        console.log(responseJson);\n        console.log(2);\n        if (responseJson.action == \"success\") {\n          console.log(3);\n          console.log(\"here\");\n          var __final__url__ = responseJson.filename;\n          var profile_pic_url = responseJson.url;\n\n          setUrl(__final__url__);\n          \n\n          setImagesArray([...imagesArray, profile_pic_url]);\n          setImagesArrayFile([...imagesArrayFile, __final__url__]);\n          setLoading(false)\n          // setImage(__final__url__)\n          // setLoading(false)\n        }\n        else {\n          console.log(4);\n          setLoading(false)\n          dropDownAlertRef.alertWithType('error', 'error', responseJson.error);\n        }\n      })\n      .catch((error) => {\n        console.log(error)\n        console.log(5);\n        setLoading(false)\n\n        dropDownAlertRef.alertWithType('error', 'error', \"Internet Error\");\n        setLoading(false)\n      });\n  }\n\n\n\n  return (\n    <View style={{ flex: 1, backgroundColor: '#A047C8' }}>\n      <View style={{ zIndex: 1 }}>\n        <DropdownAlert ref={ref => dropDownAlertRef = ref} />\n      </View>\n      {loading && <Loader />}\n      <ImageBackground\n        source={require(\"../assets/HomeBGImage.png\")}\n        style={{ width: \"100%\", height: 265, flex: 1 }}\n      >\n        <View style={{ width: \"80%\", alignSelf: 'center' }}>\n          {/* Header */}\n\n          <View style={{ flexDirection: 'row', justifyContent: 'space-between', marginTop: Platform.OS == 'ios' ? 35 : 25, }}>\n            <StatusBar\n              hidden={true}\n            />\n            <TouchableOpacity\n              onPress={() => {\n                props.navigation.goBack();\n              }}\n              style={{ alignSelf: 'center' }}>\n              <ArrowBack />\n            </TouchableOpacity>\n            <Text style={{ fontFamily: 'PBo', fontSize: 24, color: '#FFFFFF', marginTop: -5, marginLeft: 5 }}>New Post</Text>\n          </View>\n        </View>\n\n\n      </ImageBackground>\n\n\n      <View style={{ flex: 1, position: 'absolute', bottom: 0, height: \"90%\", width: \"100%\", backgroundColor: '#161527', borderRadius: 43, paddingRight: 20, paddingTop: 30, paddingLeft: 25 }}>\n        <ScrollView\n          contentContainerStyle={{ paddingBottom: 250 }}\n          showsVerticalScrollIndicator={false}\n        >\n          <Text style={styles.text}>Game Title</Text>\n          <TextInput\n            placeholder=\"Enter Game Title Here\"\n            placeholderTextColor=\"#D5D5D5\"\n            style={styles.textInput}\n            value={title}\n            onChangeText={(t) => setTitle(t)}\n          />\n          {\n            imagesArray.map((item, index) => {\n              return (\n\n                <Image\n                  key={index}\n                  style={{ width: 100, height: 100, borderRadius: 10, marginLeft: 10, marginTop: 15 }}\n                  source={{ uri: item }} />\n\n              )\n            })\n          }\n          <TouchableOpacity\n            onPress={() => {\n              update_dp()\n            }}\n            style={{ alignSelf: 'flex-end', justifyContent: 'center', alignItems: 'center', width: 159, height: 40, borderRadius: 9, borderWidth: 1, borderColor: '#FFFFFF', marginTop: 10, backgroundColor: '#000000' }}>\n            <Text style={{ fontFamily: 'PMe', fontSize: 12, color: '#FFFFFF' }}>Upload Photos</Text>\n          </TouchableOpacity>\n\n          <Text style={[styles.text, { marginTop: 10 }]}>Supported system</Text>\n          <View style={[styles.textInput, { paddingLeft: -0, paddingRight: 5, justifyContent: 'center', }]}>\n            <PrivacyPicker\n              selected={{ title: 'Select' }}\n              data={systemList}\n              onValueChange={(index, title) => {\n                setSelectedSystem(title.id)\n              }}\n            />\n          </View>\n\n          <Text style={[styles.text, { marginTop: 10 }]}>Game</Text>\n          <View style={[styles.textInput, { paddingLeft: -0, paddingRight: 5, justifyContent: 'center', }]}>\n            <PrivacyPicker\n              selected={{ title: 'Select' }}\n              data={gamesList}\n              onValueChange={(index, title) => {\n                setGame(title.id)\n              }}\n            />\n          </View>\n\n          <Text style={[styles.text, { marginTop: 10 }]}>Interest</Text>\n          <View style={[styles.textInput, { paddingLeft: -0, paddingRight: 5, justifyContent: 'center', }]}>\n            <PrivacyPicker\n              selected={{ title: 'Select' }}\n              data={interestList}\n              onValueChange={(index, title) => {\n                setInterest(title.id)\n              }}\n            />\n          </View>\n\n\n          <Text style={[styles.text, { marginTop: 10 }]}>Condition</Text>\n          <View style={[styles.textInput, { paddingLeft: -0, paddingRight: 5, justifyContent: 'center', }]}>\n            <PrivacyPicker\n              selected={{ title: 'Select' }}\n              data={getCondition()}\n              onValueChange={(index, title) => {\n                setCondition(title.title)\n              }}\n            />\n          </View>\n          {/* <Text style={[styles.text, { marginTop: 30 }]}>Condition</Text>\n          <TextInput\n            placeholder=\"Enter Game Title Here\"\n            placeholderTextColor=\"#D5D5D5\"\n            style={styles.textInput}\n          /> */}\n\n          <View style={{ flexDirection: 'row', justifyContent: 'space-evenly', marginTop: 20 }}>\n\n            <View style={{ alignItems: 'center' }}>\n              <TouchableOpacity\n                onPress={() => setPickup(1)}\n                style={{ width: 65, height: 65, borderRadius: 32.5, backgroundColor: pickup == 1 ? \"#A047C8\" : '#000000', alignItems: 'center', justifyContent: 'center' }}>\n                <PickupLargeIcon />\n              </TouchableOpacity>\n              <Text style={{ fontFamily: 'PRe', fontSize: 12, color: '#FFFFFF', marginTop: 5 }}>Pickup</Text>\n            </View>\n            <View style={{ alignItems: 'center' }}>\n              <TouchableOpacity\n                onPress={() => setPickup(0)}\n                style={{ width: 65, height: 65, borderRadius: 32.5, backgroundColor: pickup == 1 ? \"#000000\" : '#A047C8', alignItems: 'center', justifyContent: 'center' }}>\n                <DeliveryLargeIcon />\n              </TouchableOpacity>\n              <Text style={{ fontFamily: 'PRe', fontSize: 12, color: '#FFFFFF', marginTop: 5 }}>Delivery</Text>\n            </View>\n          </View>\n\n          <Text style={[styles.text, { marginTop: 30 }]}>Location</Text>\n          <Image\n            style={{ width: \"100%\", borderRadius: 9, marginTop: 10 }}\n            source={require(\"../assets/Map1.png\")}\n          />\n          <TouchableOpacity\n            onPress={() => {\n              validatePost()\n            }}\n            style={{ height: 54, justifyContent: 'center', alignItems: 'center', backgroundColor: \"#A047C8\", marginTop: 20, borderRadius: 9 }}>\n            <Text style={{ fontFamily: 'PMe', fontSize: 18, color: '#FFFFFF' }}>Send For Approval</Text>\n          </TouchableOpacity>\n\n        </ScrollView>\n      </View>\n\n\n    </View>\n  )\n}\n\nconst styles = StyleSheet.create({\n  textInput: {\n    height: 48, backgroundColor: '#000000', color: '#D5D5D5', paddingLeft: 15, borderRadius: 8, marginTop: 10, fontFamily: 'PLi'\n  },\n  text: {\n    fontSize: 16, fontFamily: 'PRe', color: '#FFFFFF'\n  }\n})\n\nexport default NewPost\n"]},"metadata":{},"sourceType":"module"}